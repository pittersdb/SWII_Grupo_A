<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sec="http://www.springframework.org/security/tags"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    
    <link rel="stylesheet" type="text/css" href="../jquery_ui_redmond/development-bundle/themes/cupertino/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="../jquery_ui_redmond/development-bundle/themes/cupertino/jquery.ui.theme.css" />
    <script type="text/javascript" src="../js/jquery-1.9.0.min.js" ></script>
    <script type="text/javascript" src="../jquery_ui_redmond/js/jquery-ui-1.10.0.custom.min.js"></script>
    <!-- Prime UI -->
    <script type="text/javascript" src="../prime-ui-0.7/production/prime-ui-0.7-min.js"></script> 
    <script type="text/javascript" src="../prime-ui-0.7/production/prime-ui-0.7-min.css"></script>
    
    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>SysMedic</title>
                <script type="text/javascript">
                    
                    function mostrarInventario(){
                        ocultarTodo();
                        document.getElementById("panelInventario").style.display="block";
                    }
                    function mostrarHistorial(){
                        ocultarTodo();
                        document.getElementById("panelHistorial").style.display="block";
                    }
                    function mostrarConsulta(){
                        ocultarTodo();
                        document.getElementById("panelConsulta").style.display="block";
                    }
                    function mostrarUsuarios(){
                        ocultarTodo();
                        document.getElementById("panelUsuarios").style.display="block";
                    }
                    function mostrarPacientes(){
                        ocultarTodo();
                        document.getElementById("panelPacientes").style.display="block";
                    }
                    
                    function mostrarAgenda(){
                        ocultarTodo();
                        document.getElementById("panelAgenda").style.display="block";
                        mostrarInternalPanelAgenda();
                        ocultarInternalPanelHistorial();
                    }
                    
                    function mostrarInternalPanelAgenda(){
                        document.getElementById("panelInternalAgenda").style.display="block";
                    }
                    
                    function ocultarInternalPanelAgenda(){
                        document.getElementById("panelInternalAgenda").style.display="none";
                    }
                    
                    function mostrarConsulta(){
                        document.getElementById("panelConsulta").style.display="block";
                    }
                    
                    function mostrarFacturacion(){
                        ocultarTodo();
                        document.getElementById("panelFacturacion").style.display="block";
                    }
                    
                    function ocultarConsulta(){
                        document.getElementById("panelConsulta").style.display="none";
                    }
                    
                    function mostrarInternalPanelHistorial(){
                        document.getElementById("panelHistorialForAgenda").style.display="block";
                    }
                    
                    function ocultarInternalPanelHistorial(){
                        document.getElementById("panelHistorialForAgenda").style.display="none";
                    }         
                    
                    function ocultarTodo(){
                        document.getElementById("panelInicio").style.display="none";
                        document.getElementById("panelInventario").style.display="none";
                        document.getElementById("panelHistorial").style.display="none";
                        document.getElementById("panelConsulta").style.display="none";
                        document.getElementById("panelUsuarios").style.display="none";
                        document.getElementById("panelPacientes").style.display="none";
                        document.getElementById("panelAgenda").style.display="none";
                        document.getElementById("panelFacturacion").style.display="none";
                    }
                </script>
            </f:facet>
        </h:head>
        
        <h:body>
            
            <p:layout fullPage="true">
                
                
                
                <p:layoutUnit position="south" size="40" closable="true" collapsible="true">                    
                    <h:outputText value="&reg; #{msg['derechos_reservados']}." style="font-size: 0.8em"/>
                </p:layoutUnit>
                
                <p:layoutUnit position="west" size="250"  >
                    <p:panel id="mainHeader" >
                        <h:panelGrid columns="1" cellpadding="0">
                            <!-- <p:graphicImage value="/Images/caduceusGold.png" /-->
                            <h:graphicImage value="/Images/systemLogo.png"/> 
                            
                            <h:outputText value="#{msg['Bienvenido']}, #{User.Name()}" style="font-size: 0.8em"/>
                            <h:panelGrid columns="2" cellpadding="0" style="float: right">
                                <h:form>            
                                    <h:commandLink action="#{User.LogOut()}" value="#{msg['Salir']}" style="font-size: 0.8em"/>                                
                                </h:form>
                            </h:panelGrid>                         
                            
                        </h:panelGrid>
                    </p:panel>
                    <p:panel id="mainMenu" header="#{msg['Opciones']}"  >
                        <p:menu style="width:190px">
                            
                            <p:menuitem  value="#{msg['Agenda']}" url="#" onclick="mostrarAgenda()"/>
                            <p:menuitem value="#{msg['Facturacion']}" url="#"  id="opFacturacion" onclick="mostrarFacturacion()"/>
                            <p:menuitem value="#{msg['Inventario']}" url="#" id="opInventario" onclick="mostrarInventario()"/>
                            <p:menuitem value="#{msg['Usuarios']}" url="#" id="opUsuarios" onclick="mostrarUsuarios()"/>
                            <p:menuitem value="#{msg['Pacientes']}" url="#" id="opPacientes" onclick="mostrarPacientes()"/>
                        </p:menu>
                        <h:panelGrid columns="2">
                            
                            <h:outputText value="Languages: " style="font-size: 0.8em"/>
                            
                            <h:form> 
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:commandLink action="#{language.setLocaleCodeBySufix('es')}" value="Spanish" style="font-size: 0.8em"/>                                
                                    <h:commandLink action="#{language.setLocaleCodeBySufix('en')}" value="English" style="font-size: 0.8em"/>                                
                                </h:panelGrid>
                            </h:form>
                            
                        </h:panelGrid>
                    </p:panel>
                </p:layoutUnit>
                
                <p:layoutUnit position="center">
                    <p:panel id="panelInicio" header="#{msg['Inicio']}">
                        <h:panelGroup>
                            <div>
                                <p>
                                    #{msg['mensaje_inicio']}
                                </p>
                                <h:graphicImage value="/Images/adnWall.jpg"  width="1035em" height="250em" />
                                <h5>#{msg['Usted_puede_realizar_actividades_como']}: </h5>
                                <ul>
                                    
                                    <li>#{msg['Agenda']}</li>
                                    <li>#{msg['Facturacion']}</li>
                                    <!--<li><a href="#" onclick="mostrarHistorial()">Historial Cl&iacute;nico</a></li>-->
                                    <li>#{msg['Inventario']}</li>
                                    <li>#{msg['Pacientes']}</li>
                                </ul>
                            </div>
                        </h:panelGroup>
                    </p:panel>
                    
                    <!-- Panel para la Agenda -->
                    <p:panel id="panelAgenda" header="#{msg['Agenda']}" style="display: none;">
                        <h:panelGroup>
                            <sec:authorize url="/faces/agenda.xhtml" var="isAuthorizedI">
                                <ui:include src="agenda.xhtml" /><br />
                                
                            </sec:authorize>
                            <c:if test="${!isAuthorizedI}">
                                <ui:include src="NoAutorizacionMensaje.xhtml" />
                            </c:if>
                        </h:panelGroup>
                    </p:panel>
                    
                    <!-- Panel para la Facturacion -->
                    <p:panel id="panelFacturacion" header="#{msg['Facturacion']}" style="display: none;">
                        <h:panelGroup>
                            <sec:authorize url="/faces/facturacion.xhtml" var="isAuthorizedH">
                                <ui:include src="facturacion.xhtml" />
                            </sec:authorize>
                            <c:if test="${!isAuthorizedH}">
                                <ui:include src="NoAutorizacionMensaje.xhtml" />
                            </c:if>
                        </h:panelGroup>
                    </p:panel>
                    
                    <!-- Panel para el Inventario -->
                    <p:panel id="panelInventario" header="#{msg['Inventario']}" style="display: none;">
                        <h:panelGroup>
                            <sec:authorize url="/faces/inventario.xhtml" var="isAuthorizedI">
                                <ui:include src="inventario.xhtml" /><br />
                                
                            </sec:authorize>
                            <c:if test="${!isAuthorizedI}">
                                <ui:include src="NoAutorizacionMensaje.xhtml" />
                            </c:if>
                        </h:panelGroup>
                    </p:panel>
                    
                    <!-- Panel para el Historial clinico -->
                    <p:panel id="panelHistorial" header="#{msg['Historial']}" style="display: none;">
                        <h:panelGroup>
                            <sec:authorize url="/faces/historial.xhtml" var="isAuthorizedH">
                                <ui:include src="historial.xhtml" />
                            </sec:authorize>
                            <c:if test="${!isAuthorizedH}">
                                <ui:include src="NoAutorizacionMensaje.xhtml" />
                            </c:if>
                        </h:panelGroup>
                    </p:panel>
                    
                    <!-- Panel para los Usuarios -->
                    <p:panel id="panelUsuarios" header="#{msg['Usuarios']}" style="display: none;">
                        <h:panelGroup>
                            <sec:authorize url="/faces/usuarios.xhtml" var="isAuthorizedU">
                                <ui:include src="usuarios.xhtml" />
                            </sec:authorize>
                            <c:if test="${!isAuthorizedU}">
                                <ui:include src="NoAutorizacionMensaje.xhtml" />
                            </c:if>
                        </h:panelGroup>
                    </p:panel>
                    
                    <!-- Panel para los Pacientes -->
                    <p:panel id="panelPacientes" header="#{msg['Pacientes']}" style="display: none;">
                        <h:panelGroup>
                            <sec:authorize url="/faces/pacientes.xhtml" var="isAuthorizedP">
                                <ui:include src="pacientes.xhtml" />
                            </sec:authorize>
                            <c:if test="${!isAuthorizedP}">
                                <ui:include src="NoAutorizacionMensaje.xhtml" />
                            </c:if>
                        </h:panelGroup>
                    </p:panel>
                    
                    
                </p:layoutUnit>
                
            </p:layout>
            
        </h:body>
        
    </f:view>
</html>
